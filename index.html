<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Test</title>
    <script>
        function sendData() {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'https://script.google.com/macros/s/AKfycbzQIE0Qo3IJ76L6STuYfa2jMJZEtgkCLpNnFqeb3gXTM2ajAAcJMdUVwkO8T9m7fo4/exec', true);
            xhr.setRequestHeader('Content-Type', 'application/json');

            // Construct the payload with relevant data
            var payload = {
                page: window.location.pathname,
                timeSpent: 30, // Example time spent in seconds; replace with actual data if available
                timestamp: new Date().toISOString(),
                userId: 'testUser' // Replace with actual user ID if available
            };

            // Send the payload as a JSON string
            xhr.send(JSON.stringify(payload));

            // Handle the response
            xhr.onload = function() {
                if (xhr.status >= 200 && xhr.status < 300) {
                    console.log('Data sent successfully:', xhr.responseText);
                } else {
                    console.error('Failed to send data:', xhr.status, xhr.statusText);
                }
            };

            // Handle network errors
            xhr.onerror = function() {
                console.error('Request error');
            };
        }

        // Call sendData function on page load
        window.onload = function() {
            sendData();
        };
    </script>
</head>
<body>
    <h1>Analytics Test</h1>
</body>
</html>
